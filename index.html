<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRIPLY | Premium Streetwear</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --drip-yellow: #e2fb2d;
            --drip-black: #0a0a0a;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--drip-black);
            color: white;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
        }
        .font-drip { font-family: 'Syncopate', sans-serif; text-transform: uppercase; }
        .text-drip { color: var(--drip-yellow); }
        .bg-drip { background-color: var(--drip-yellow); }
        
        /* Smooth Page Transitions */
        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }
        .page.active {
            display: block;
            opacity: 1;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--drip-yellow); }

        .product-card:hover img { transform: scale(1.05); }
        .btn-hover:hover { filter: brightness(1.2); transform: translateY(-2px); }
        input, select { background: #111 !important; border: 1px solid #333 !important; color: white !important; }
        
        /* Category Line Style */
        .nav-link { position: relative; cursor: pointer; }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0; height: 2px;
            bottom: -4px; left: 0;
            background-color: var(--drip-yellow);
            transition: width 0.3s;
        }
        .nav-link:hover::after { width: 100%; }

        /* Gallery Overlay */
        #gallery-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>

    <nav class="fixed top-0 w-full z-50 px-6 py-4 flex justify-between items-center bg-black/80 backdrop-blur-md border-b border-white/10">
        <div class="font-drip text-2xl tracking-tighter cursor-pointer" onclick="navigateTo('home')">DRIPLY</div>
        
        <div class="hidden md:flex space-x-10 text-[11px] font-black uppercase tracking-[0.2em]">
            <span class="nav-link" onclick="navigateTo('shop')">Collection</span>
            <span class="nav-link" onclick="filterByCategory('Jackets')">Jackets</span>
            <span class="nav-link" onclick="filterByCategory('Jeans')">Jeans</span>
            <span class="nav-link" onclick="filterByCategory('Accessories')">Accessories</span>
        </div>

        <div class="flex items-center space-x-6">
            <button onclick="navigateTo('cart')" class="relative">
                <span class="text-xl">üõí</span>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-drip text-black text-[10px] font-black px-1.5 rounded-full">0</span>
            </button>
            <button onclick="toggleMobileMenu()" class="md:hidden text-2xl">‚ò∞</button>
            <button id="admin-nav-btn" onclick="navigateTo('admin-login')" class="hidden md:block text-[10px] opacity-50 uppercase font-black hover:opacity-100">Staff</button>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-0 bg-black z-[60] flex flex-col p-10 translate-x-full transition-transform duration-500">
        <button onclick="toggleMobileMenu()" class="text-4xl self-end">√ó</button>
        <div class="flex flex-col space-y-8 font-drip text-2xl mt-10">
            <span onclick="navigateTo('shop'); toggleMobileMenu()">Collection</span>
            <span onclick="filterByCategory('Jackets'); toggleMobileMenu()">Jackets</span>
            <span onclick="filterByCategory('Jeans'); toggleMobileMenu()">Jeans</span>
            <span onclick="filterByCategory('Accessories'); toggleMobileMenu()">Accessories</span>
            <hr class="border-white/10">
            <span onclick="navigateTo('admin-login'); toggleMobileMenu()" class="text-sm opacity-50">Staff Login</span>
        </div>
    </div>

    <main class="pt-24 min-h-screen">
        
        <section id="home" class="page active px-6 md:px-20">
            <div class="h-[80vh] flex flex-col justify-center relative overflow-hidden">
                <h1 class="font-drip text-6xl md:text-[12vw] leading-[0.85] tracking-tighter z-10">DRIP<br><span class="text-drip">SEASON</span></h1>
                <p class="mt-6 text-gray-400 max-w-md uppercase text-xs tracking-[0.3em] font-bold">Limited drops. Worldwide shipping. Premium materials only.</p>
                <button onclick="navigateTo('shop')" class="mt-10 bg-white text-black font-black py-4 px-10 w-fit text-xs uppercase hover:bg-drip transition-all">Enter Shop</button>
                <div class="absolute right-0 bottom-0 w-full md:w-1/2 h-full -z-0 opacity-40">
                    <img src="https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?auto=format&fit=crop&q=80" class="w-full h-full object-cover grayscale">
                </div>
            </div>
        </section>

        <section id="shop" class="page px-6 md:px-20 py-10">
            <div class="flex justify-between items-end mb-12">
                <h2 id="shop-title" class="font-drip text-4xl">The Collection</h2>
                <span id="active-filter-tag" class="text-drip text-[10px] font-black uppercase tracking-widest"></span>
            </div>
            <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                </div>
            <div id="no-products-msg" class="hidden text-center py-40">
                <p class="font-drip text-2xl opacity-20">Products coming soon</p>
            </div>
        </section>

        <section id="cart" class="page px-6 md:px-20 py-10">
            <h2 class="font-drip text-4xl mb-12">Shopping Bag</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-16">
                <div id="cart-items" class="lg:col-span-2 space-y-6">
                    </div>
                <div class="bg-zinc-900/50 p-8 h-fit border border-white/5">
                    <h3 class="font-black uppercase text-xs tracking-widest mb-6">Order Summary</h3>
                    <div class="space-y-4 text-sm">
                        <div class="flex justify-between text-gray-400"><span>Subtotal</span><span id="cart-subtotal">$0.00</span></div>
                        <div class="flex justify-between text-drip"><span>Discount</span><span id="cart-discount">-$0.00</span></div>
                        <hr class="border-white/10">
                        <div class="flex justify-between font-black text-xl"><span>Total</span><span id="cart-total">$0.00</span></div>
                    </div>
                    <button onclick="navigateTo('checkout')" class="w-full bg-drip text-black font-black py-4 mt-8 text-xs uppercase tracking-widest">Checkout</button>
                </div>
            </div>
        </section>

        <section id="checkout" class="page px-6 md:px-20 py-10">
            <div class="max-w-2xl mx-auto">
                <h2 class="font-drip text-4xl mb-12 text-center">Checkout</h2>
                <form id="checkout-form" onsubmit="handleOrder(event)" class="space-y-4">
                    <input type="text" placeholder="Full Name" required class="w-full p-4 outline-none">
                    <input type="text" placeholder="Address" required class="w-full p-4 outline-none">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" placeholder="City" required class="p-4 outline-none">
                        <input type="text" placeholder="ZIP Code" required class="p-4 outline-none">
                    </div>
                    <input type="text" placeholder="Country" required class="w-full p-4 outline-none">
                    
                    <div class="pt-10">
                        <div class="flex justify-between font-black text-2xl mb-6">
                            <span>TOTAL DUE</span>
                            <span id="checkout-final-total" class="text-drip">$0.00</span>
                        </div>
                        <button type="submit" class="w-full bg-drip text-black font-black py-6 text-sm uppercase tracking-[0.2em]">Pay & Order</button>
                    </div>
                </form>
            </div>
        </section>

        <section id="admin-login" class="page flex items-center justify-center py-20">
            <div class="bg-zinc-900 p-10 w-full max-w-sm border border-white/10">
                <h2 class="font-drip text-xl mb-8 text-center">Staff Access</h2>
                <input type="text" id="admin-user" placeholder="Username" class="w-full p-4 mb-4 outline-none">
                <input type="password" id="admin-pass" placeholder="Password" class="w-full p-4 mb-8 outline-none">
                <button onclick="loginAdmin()" class="w-full bg-white text-black font-black py-4 uppercase text-xs">Authorize</button>
            </div>
        </section>

        <section id="admin-dashboard" class="page px-6 md:px-20 py-10">
            <div class="flex justify-between items-center mb-12">
                <h2 class="font-drip text-3xl">Inventory</h2>
                <button onclick="showAddProductModal()" class="bg-drip text-black px-6 py-2 font-black text-xs uppercase">Add Product</button>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead class="text-[10px] uppercase text-gray-500 tracking-widest border-b border-white/10">
                        <tr>
                            <th class="pb-4">Product</th>
                            <th class="pb-4">Category</th>
                            <th class="pb-4">Price</th>
                            <th class="pb-4">Disc%</th>
                            <th class="pb-4">Status</th>
                            <th class="pb-4">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="admin-product-list" class="divide-y divide-white/5">
                        </tbody>
                </table>
            </div>
        </section>
    </main>

    <div id="product-modal" class="fixed inset-0 bg-black/90 z-[100] hidden items-center justify-center p-6">
        <div class="bg-zinc-900 p-8 w-full max-w-lg border border-white/10">
            <h3 id="modal-title" class="font-drip text-xl mb-6">New Product</h3>
            <div class="space-y-4">
                <input type="text" id="p-name" placeholder="Product Name" class="w-full p-3 outline-none">
                <select id="p-cat" class="w-full p-3 outline-none">
                    <option value="Jackets">Jackets</option>
                    <option value="Jeans">Jeans</option>
                    <option value="Accessories">Accessories</option>
                </select>
                <div class="grid grid-cols-2 gap-4">
                    <input type="number" id="p-price" placeholder="Price (USD)" class="p-3 outline-none">
                    <input type="number" id="p-disc" placeholder="Discount %" class="p-3 outline-none">
                </div>
                <input type="text" id="p-img" placeholder="Image URLs (Comma separated)" class="w-full p-3 outline-none">
                <div class="flex space-x-4 pt-4">
                    <button onclick="saveProduct()" class="flex-1 bg-drip text-black font-black py-3 uppercase text-xs">Save</button>
                    <button onclick="closeProductModal()" class="flex-1 bg-white/10 text-white font-black py-3 uppercase text-xs">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="gallery-overlay" onclick="closeGallery()">
        <button class="absolute top-10 right-10 text-4xl">√ó</button>
        <div class="flex items-center space-x-6 px-4" onclick="event.stopPropagation()">
            <button onclick="shiftGallery(-1)" class="text-4xl text-drip hover:scale-125 transition">‚Üê</button>
            <img id="gallery-img" src="" class="max-h-[80vh] max-w-full object-contain shadow-2xl">
            <button onclick="shiftGallery(1)" class="text-4xl text-drip hover:scale-125 transition">‚Üí</button>
        </div>
    </div>

    <script>
        // --- DATA & STATE ---
        let products = JSON.parse(localStorage.getItem('driply_products')) || [];
        let cart = JSON.parse(localStorage.getItem('driply_cart')) || [];
        let isAdmin = false;
        let editingId = null;
        let currentFilter = 'all';
        let galleryContext = { images: [], index: 0 };

        // --- NAVIGATION LOGIC ---
        function navigateTo(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const target = document.getElementById(pageId);
            target.classList.add('active');
            
            if(pageId === 'shop') renderShop();
            if(pageId === 'cart') renderCart();
            if(pageId === 'checkout') renderCheckout();
            if(pageId === 'admin-dashboard') renderAdmin();
            
            window.scrollTo(0,0);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('translate-x-full');
        }

        // --- AUTH ---
        function loginAdmin() {
            const user = document.getElementById('admin-user').value;
            const pass = document.getElementById('admin-pass').value;
            if(user === 'Tourya' && pass === 'Philipo21') {
                isAdmin = true;
                navigateTo('admin-dashboard');
                document.getElementById('admin-nav-btn').innerText = 'Dashboard';
            } else {
                alert("Access Denied");
            }
        }

        // --- PRODUCT MANAGEMENT ---
        function saveProduct() {
            const product = {
                id: editingId || Date.now(),
                name: document.getElementById('p-name').value,
                category: document.getElementById('p-cat').value,
                price: parseFloat(document.getElementById('p-price').value),
                discount: parseFloat(document.getElementById('p-disc').value) || 0,
                images: document.getElementById('p-img').value, // Commma separated
                active: true
            };

            if(!product.name || !product.price || !product.images) return alert("Fill required fields");

            if(editingId) {
                products = products.map(p => p.id === editingId ? product : p);
            } else {
                products.push(product);
            }

            localStorage.setItem('driply_products', JSON.stringify(products));
            editingId = null;
            closeProductModal();
            renderAdmin();
        }

        function deleteProduct(id) {
            if(confirm("Delete product?")) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('driply_products', JSON.stringify(products));
                renderAdmin();
            }
        }

        function toggleStatus(id) {
            products = products.map(p => {
                if(p.id === id) p.active = !p.active;
                return p;
            });
            localStorage.setItem('driply_products', JSON.stringify(products));
            renderAdmin();
        }

        // --- SHOP LOGIC ---
        function filterByCategory(cat) {
            currentFilter = cat;
            document.getElementById('active-filter-tag').innerText = cat;
            navigateTo('shop');
        }

        function renderShop() {
            const grid = document.getElementById('products-grid');
            const empty = document.getElementById('no-products-msg');
            grid.innerHTML = '';
            
            const activeItems = products.filter(p => {
                const isCat = currentFilter === 'all' || p.category === currentFilter;
                return p.active && isCat;
            });

            if(activeItems.length === 0) {
                empty.classList.remove('hidden');
                return;
            } else {
                empty.classList.add('hidden');
            }

            activeItems.forEach(p => {
                const imgArr = p.images.split(',');
                const discountPrice = p.price - (p.price * (p.discount / 100));
                
                grid.innerHTML += `
                    <div class="product-card group cursor-pointer">
                        <div class="relative aspect-[3/4] overflow-hidden bg-zinc-900 border border-white/5" onclick="openGallery('${p.images}')">
                            <img src="${imgArr[0]}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700">
                            ${p.discount > 0 ? `<span class="absolute top-4 left-4 bg-drip text-black text-[10px] font-black px-2 py-1 uppercase">-${p.discount}%</span>` : ''}
                        </div>
                        <div class="mt-6 flex justify-between items-start">
                            <div>
                                <h3 class="font-black text-xs uppercase tracking-widest">${p.name}</h3>
                                <div class="flex items-center space-x-3 mt-1">
                                    <span class="${p.discount > 0 ? 'line-through opacity-30' : 'text-gray-400'} font-bold text-sm">$${p.price.toFixed(2)}</span>
                                    ${p.discount > 0 ? `<span class="text-drip font-black text-sm">$${discountPrice.toFixed(2)}</span>` : ''}
                                </div>
                            </div>
                            <button onclick="addToCart(${p.id})" class="text-[10px] font-black uppercase border border-white/20 px-4 py-2 hover:bg-white hover:text-black transition">Add</button>
                        </div>
                    </div>
                `;
            });
        }

        // --- CART LOGIC ---
        function addToCart(id) {
            const p = products.find(x => x.id === id);
            const exists = cart.find(x => x.id === id);
            if(exists) {
                exists.qty++;
            } else {
                cart.push({ ...p, qty: 1 });
            }
            updateCart();
            alert(`${p.name} added to bag.`);
        }

        function updateCart() {
            localStorage.setItem('driply_cart', JSON.stringify(cart));
            document.getElementById('cart-count').innerText = cart.reduce((a,b) => a + b.qty, 0);
        }

        function renderCart() {
            const container = document.getElementById('cart-items');
            container.innerHTML = '';
            
            let subtotal = 0;
            let totalDiscount = 0;

            if(cart.length === 0) {
                container.innerHTML = `<p class="py-20 opacity-30 uppercase text-xs tracking-widest font-black">Your bag is empty</p>`;
            }

            cart.forEach((item, index) => {
                const price = item.price * item.qty;
                const savings = (item.price * (item.discount / 100)) * item.qty;
                subtotal += price;
                totalDiscount += savings;

                container.innerHTML += `
                    <div class="flex items-center justify-between border-b border-white/
